!function(t){function e(a){if(i[a])return i[a].exports;var s=i[a]={exports:{},id:a,loaded:!1};return t[a].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){!function(){if("undefined"==typeof AFRAME)return void console.error("Component attempted to register before AFRAME was available.");var t={draw:i(1).component};Object.keys(t).forEach(function(e){AFRAME.aframeCore?AFRAME.aframeCore.registerComponent(e,t[e]):AFRAME.registerComponent(e,t[e])})}()},function(t,e){t.exports.component={schema:{width:{default:256},height:{default:256},background:{default:"#FFFFFF"}},init:function(){this.registers=[],this.update()},register:function(t){this.registers.push(t)},update:function(t){t||this.createCanvas(this.data.width,this.data.height)},createCanvas:function(t,e){var i=this,a=document.createElement("canvas");if(a.width=t,a.height=e,a.style="display: none",i.canvas=a,i.ctx=a.getContext("2d"),this.texture=new THREE.Texture(i.canvas),"A-SPRITE"==this.el.tagName){this.hotspotMaterial=new THREE.SpriteMaterial({map:this.texture});var s=!1;void 0===this.sprite&&(this.sprite=new THREE.Sprite(this.hotspotMaterial),s=!0);var r=this.el.components.sprite;resizeData=r.data.resize.split(" "),this.sprite.scale.set(resizeData[0],resizeData[1],resizeData[2]),s&&this.el.setObject3D("mesh",this.sprite)}else this.el.object3D.children.length>0?(this.el.object3D.children[0].material=new THREE.MeshBasicMaterial,this.el.object3D.children[0].material.map=this.texture,this.el.object3D.children[0].material.transparent=!0):(this.el.object3D.material=new THREE.MeshBasicMaterial,this.el.object3D.material.map=this.texture,this.el.object3D.material.transparent=!0);this.el.hasLoaded?i.render():this.el.addEventListener("loaded",function(){i.render()})},render:function(){this.registers.length>0&&(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.fillStyle=this.data.background,this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.registers.forEach(function(t){t()})),this.texture.needsUpdate=!0},remove:function(){}}}]);